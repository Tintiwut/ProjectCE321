{"version":3,"file":"static/js/main.bffdb776.js","mappings":"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","sources":["index.js"],"sourcesContent":["import './index.css';\n\n/*-----------------------------------------------------------------------------------------------*/  \n// กำหนดตัวแปรสำหรับการใช้งาน\nconst startIncomeCategoryBtn = document.getElementById('startIncomeCategoryBtn');\nconst startIncomePriceBtn = document.getElementById('startIncomePriceBtn');\nconst startIncomeSaveBtn = document.getElementById('startIncomeSaveBtn');\nconst outputIncomeList = document.getElementById('outputIncomeList');\n\nconst startExpenseCategoryBtn = document.getElementById('startExpenseCategoryBtn');\nconst startExpensePriceBtn = document.getElementById('startExpensePriceBtn');\nconst startExpenseSaveBtn = document.getElementById('startExpenseSaveBtn');\nconst outputExpenseList = document.getElementById('outputExpenseList');\n\nconst outputTransactionList = document.getElementById('outputTransactionList');\n//const totalIncome = document.getElementById('totalIncome');\n//const totalExpense = document.getElementById('totalExpense');\nconst result = document.getElementById('result');\nconst Ask = document.getElementById('Ask');\nconst title = document.getElementById('title');\n\nconst clearLocalStorageBtn = document.getElementById('clearLocalStorageBtn');\n\nlet totalIncomeAmount = 0;\nlet totalExpenseAmount = 0;\nlet incomeCategory = '';\nlet incomePrice = 0;\nlet expenseCategory = '';\nlet expensePrice = 0;\n\n/*-------------------------------------------------------------API----------------------------------------------------*/\n// ตรวจสอบว่าเบราว์เซอร์รองรับ Web Speech API หรือไม่\nif ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n    title.textContent = 'เว็บบันทึกรายรับรายจ่าย';\n    document.getElementById('error-message').innerHTML = '';\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n\n    // กำหนดฟังก์ชันสำหรับการรับเสียงของรายรับและรายจ่าย\n    const recognitionIncomeCategory = new SpeechRecognition();\n    const recognitionIncomePrice = new SpeechRecognition();\n    const recognitionExpenseCategory = new SpeechRecognition();\n    const recognitionExpensePrice = new SpeechRecognition();\n\n    // ตั้งค่าภาษาเป็นภาษาไทย\n    recognitionIncomeCategory.lang = 'th-TH';\n    recognitionIncomePrice.lang = 'th-TH';\n    recognitionExpenseCategory.lang = 'th-TH';\n    recognitionExpensePrice.lang = 'th-TH';\n\n    // กำหนดฟังก์ชันเมื่อมีการรับเสียงของประเภทรายรับ\n    recognitionIncomeCategory.onresult = function(event) {\n        incomeCategory = event.results[0][0].transcript;\n        outputIncomeList.innerHTML = `ประเภท: ${incomeCategory}`;\n    };\n\n    // กำหนดฟังก์ชันเมื่อมีการรับเสียงของราคารายรับ\n    recognitionIncomePrice.onresult = function(event) {\n        const transcript = event.results[0][0].transcript;\n        const priceString = transcript.replace(/,/g, '');\n        const price = parseFloat(priceString);\n        if (!isNaN(price)) {\n            incomePrice = price\n            outputIncomeList.innerHTML += \" | \";\n            outputIncomeList.innerHTML += `ราคา: ${price.toLocaleString('th-TH')}`;\n            outputIncomeList.innerHTML += `<button id=\"clearBtn\" type=\"clearBtn\" onclick=\"clearBtnIn()\">ลบข้อมูล</button>`;\n        }\n    };\n\n    // เมื่อคลิกที่ปุ่ม \"พูดราคา\" รายรับ\n    startIncomeCategoryBtn.addEventListener('click', function() {\n        recognitionIncomeCategory.start();\n    });\n\n    // เมื่อคลิกที่ปุ่ม \"พูดราคา\" รายรับ\n    startIncomePriceBtn.addEventListener('click', function() {\n        recognitionIncomePrice.start();\n    });\n\n    // เมื่อคลิกที่ปุ่ม \"บันทึก\" รายรับ\n    startIncomeSaveBtn.addEventListener('click', function() {\n\n        // สร้างวันที่และเวลาปัจจุบัน\n        const currentDateTime = new Date();\n        const dateTimeString = currentDateTime.toLocaleString('th-TH');\n\n        // เพิ่มข้อมูลบันทึกในรายการรายรับ-รายจ่าย\n        outputTransactionList.innerHTML += `<p type=\"in\">+ รายรับ ${incomeCategory} ${incomePrice.toFixed(2)} บาท - วันที่และเวลา: ${dateTimeString}</p>`;\n        totalIncomeAmount += incomePrice;\n\n        // ล้างข้อมูลที่แสดงในรายรับ\n        incomeCategory = '';\n        incomePrice = 0;\n        outputIncomeList.innerHTML = '';\n\n        // บันทึกข้อมูลลงใน local storage\n        saveTransactions();\n        updateBalance();\n\n        // คำนวณผลรวมของการลบรายรับกับรายจ่าย\n        const balance = totalIncomeAmount - totalExpenseAmount;\n        result.textContent = `คงเหลือ: ${balance.toFixed(2)} บาท`;\n    });\n\n/*-------------------------------------------------------------------------จ่าย---------------------------------------------------------------*/\n    // กำหนดฟังก์ชันเมื่อมีการรับเสียงของประเภทรายจ่าย\n    recognitionExpenseCategory.onresult = function(event) {\n        expenseCategory = event.results[0][0].transcript;\n        outputExpenseList.innerHTML = `ประเภท: ${expenseCategory}`;\n    };\n\n    // กำหนดฟังก์ชันเมื่อมีการรับเสียงของราคารายจ่าย\n    recognitionExpensePrice.onresult = function(event) {\n        const transcript = event.results[0][0].transcript;\n        const priceString = transcript.replace(/,/g, '');\n        const price = parseFloat(priceString);\n        if (!isNaN(price)) {\n            expensePrice = price;\n            outputExpenseList.innerHTML += \" | \";\n            outputExpenseList.innerHTML += `ราคา: ${transcript}`;\n            outputExpenseList.innerHTML += `<button id=\"clearBtn\" type=\"clearBtn\" onclick=\"clearBtnEx()\">ลบข้อมูล</button>`;\n        }\n    };\n\n    // เมื่อคลิกที่ปุ่ม \"พูดประเภท\" รายจ่าย\n    startExpenseCategoryBtn.addEventListener('click', function() {\n        recognitionExpenseCategory.start();\n    });\n\n    // เมื่อคลิกที่ปุ่ม \"พูดราคา\" รายจ่าย\n    startExpensePriceBtn.addEventListener('click', function() {\n        recognitionExpensePrice.start();\n    });\n\n    // เมื่อคลิกที่ปุ่ม \"บันทึก\" รายจ่าย\n    startExpenseSaveBtn.addEventListener('click', function() {\n        // สร้างวันที่และเวลาปัจจุบัน\n        const currentDateTime = new Date();\n        const dateTimeString = currentDateTime.toLocaleString('th-TH');\n\n        // เพิ่มข้อมูลบันทึกในรายการรายรับ-รายจ่าย\n        outputTransactionList.innerHTML += `<p type=\"ex\">- รายจ่าย ${expenseCategory} ${expensePrice.toFixed(2)} บาท - วันที่และเวลา: ${dateTimeString}</p>`;\n        totalExpenseAmount += expensePrice;\n        // ล้างข้อมูลที่แสดงในรายจ่าย\n        expenseCategory = '';\n        expensePrice = 0;\n        outputExpenseList.innerHTML = '';\n\n        // บันทึกข้อมูลลงใน local storage\n        saveTransactions();\n\n        // คำนวณผลรวมของการลบรายรับกับรายจ่าย\n        updateBalance()\n    });\n\n     // เมื่อหน้าเว็บโหลดเสร็จ\n    window.addEventListener('load', function() {\n    loadTransactions();\n    updateBalance();\n    });\n\n    /*----------------------------------------------------------------*/\n    function loadTransactions() {\n        const savedTransactions = localStorage.getItem('transactions');\n        if (savedTransactions) {\n            const parsedTransactions = JSON.parse(savedTransactions);\n            if (parsedTransactions) {\n                totalIncomeAmount = parsedTransactions.totalIncome;\n                totalExpenseAmount = parsedTransactions.totalExpense;\n                outputTransactionList.innerHTML = parsedTransactions.transactionList;\n    \n                // เพิ่มปุ่มลบ JSON ในแต่ละบรรทัด\n                const transactionItems = outputTransactionList.querySelectorAll('p');\n                transactionItems.forEach(item => {\n                    if (!item.querySelector('button') == 1) {\n                        const deleteButton = document.createElement('button');\n                        deleteButton.classList.add(\"delete-btn\");\n                        deleteButton.textContent = 'ลบข้อมูล';\n                        deleteButton.addEventListener('click', function() {\n                            // ลบรายการที่มีปุ่มลบถูกคลิก\n                            item.remove();\n                            // ปรับปรุงข้อมูลใน local storage\n                            saveTransactions();  \n\n                            updateBalance();\n        \n                            // อัปเดตค่า totalIncomeAmount และ totalExpenseAmount\n                            totalIncomeAmount = calculateTotalIncome();\n                            totalExpenseAmount = calculateTotalExpense();                 \n                            });\n                        item.appendChild(deleteButton);\n                    }\n                });\n            }\n        }\n    }\n    \n    \n    /*----------------------------------------------------------------*/\n    function updateBalance() {\n        // คำนวณรายรับและรายจ่ายใหม่\n        const totalIncomeAmount = calculateTotalIncome();\n        const totalExpenseAmount = calculateTotalExpense();\n    \n        // คำนวณค่าคงเหลือใหม่\n        const balance = totalIncomeAmount - totalExpenseAmount;\n        result.textContent = `คงเหลือ: ${balance.toFixed(2)} บาท`;\n    }\n    \n    function saveTransactions() {\n        // บันทึกรายการธุรกรรมลงใน Local Storage\n        const transactions = {\n            totalIncome: totalIncomeAmount,\n            totalExpense: totalExpenseAmount,\n            transactionList: outputTransactionList.innerHTML\n        };\n    \n        localStorage.setItem('transactions', JSON.stringify(transactions));\n    \n        // อัปเดตค่าคงเหลือ\n        //updateBalance();\n    }\n    \n    function calculateTotalIncome() {\n        let totalIncome = 0;\n        const transactionItems = outputTransactionList.querySelectorAll('p');\n        transactionItems.forEach(item => {\n            const incomeText = item.textContent;\n            if (incomeText.startsWith('+')) { // ใช้ startsWith('+') แทน includes('+') เพื่อความแม่นยำ\n                const incomeValue = parseFloat(incomeText.split(' ')[3]); // เปลี่ยนจาก index 2 เป็น 3 เนื่องจากการ split แล้ว\n                if (!isNaN(incomeValue)) {\n                    totalIncome += incomeValue;\n                }\n            }\n        });\n        return totalIncome;\n    }\n    \n    function calculateTotalExpense() {\n        let totalExpense = 0;\n        const transactionItems = outputTransactionList.querySelectorAll('p');\n        transactionItems.forEach(item => {\n            const expenseText = item.textContent;\n            if (expenseText.startsWith('-')) { // ใช้ startsWith('-') แทน includes('-') เพื่อความแม่นยำ\n                const expenseValue = parseFloat(expenseText.split(' ')[3]); // เปลี่ยนจาก index 2 เป็น 3 เนื่องจากการ split แล้ว\n                if (!isNaN(expenseValue)) {\n                    totalExpense += expenseValue;\n                }\n            }\n        });\n        return totalExpense;\n    }\n    \n    \n/*-------------------------------------------------------button-------------------------------------------------*/    \n\n    clearLocalStorageBtn.addEventListener('click', function() {\n        localStorage.removeItem('transactions');\n        loadTransactions(); // โหลดข้อมูลใหม่หลังจากล้างข้อมูล\n    });\n\n    // สร้างฟังก์ชันสำหรับการลบข้อมูลที่ถูกพูด\n    function clearBtnIn() {\n        incomeCategory = '';\n        incomePrice = 0;\n        outputIncomeList.innerHTML = '';\n        updateBalance();\n    };\n\n    function clearBtnEx() {        \n        expenseCategory = '';\n        expensePrice = 0;\n        outputExpenseList.innerHTML = '';\n        updateBalance();\n    };\n\n    Ask.addEventListener('click', function() {\n        window.alert(`************วิธีการใช้งาน************` + `\\n กดปุ่มรายการ 1 ครั้ง : พูดสิ่งที่อยากบันทึก \\n กดปุ่มราคา 1 ครั้ง : พูดราคาที่ต้องการบันทึก` + \n        `\\n กดปุ่มบันทึก : เพื่อบันทึกข้อมูล\\n กดปุ่มลบรายการ : เพื่อแก้ไขสิ่งที่จะบันทึก` +\n        `\\n *Note* : MobilePhone อาจใช้เวลานานในการใช้งาน API โปรดรอเมื่อกดปุ่ม`);\n    });\n\n} else {\n    // แสดงข้อความแจ้งเตือนเมื่อเบราว์เซอร์ไม่รองรับ Web Speech API\n    alert('เบราว์เซอร์ของคุณไม่รองรับ Web Speech API');\n    title.textContent = 'เบราว์เซอร์ของคุณไม่รองรับ Web Speech API';\n    document.getElementById('error-message').innerHTML = 'เบราว์เซอร์ของคุณไม่รองรับ Web Speech API';\n}\n"],"names":["startIncomeCategoryBtn","document","getElementById","startIncomePriceBtn","startIncomeSaveBtn","outputIncomeList","startExpenseCategoryBtn","startExpensePriceBtn","startExpenseSaveBtn","outputExpenseList","outputTransactionList","result","Ask","title","clearLocalStorageBtn","totalIncomeAmount","totalExpenseAmount","incomeCategory","incomePrice","expenseCategory","expensePrice","window","textContent","innerHTML","SpeechRecognition","webkitSpeechRecognition","recognitionIncomeCategory","recognitionIncomePrice","recognitionExpenseCategory","recognitionExpensePrice","loadTransactions","savedTransactions","localStorage","getItem","parsedTransactions","JSON","parse","totalIncome","totalExpense","transactionList","querySelectorAll","forEach","item","querySelector","deleteButton","createElement","classList","add","addEventListener","remove","saveTransactions","updateBalance","calculateTotalIncome","calculateTotalExpense","appendChild","balance","concat","toFixed","transactions","setItem","stringify","incomeText","startsWith","incomeValue","parseFloat","split","isNaN","expenseText","expenseValue","lang","onresult","event","results","transcript","priceString","replace","price","toLocaleString","start","dateTimeString","Date","removeItem","alert"],"sourceRoot":""}